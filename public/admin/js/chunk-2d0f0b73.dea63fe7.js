(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0b73"],{"9e0a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-content",[a("space",{staticClass:"my-1"},[a("search-form",{attrs:{fields:e.search}}),a("a-button",{on:{click:function(t){e.createDialog=!0}}},[e._v("添加")]),a("cache-config")],1),a("a-table",{attrs:{"row-key":"id","data-source":e.cates,bordered:"",scroll:{x:950},pagination:!1}},[a("a-table-column",{attrs:{title:"ID","data-index":"id",width:60}}),a("a-table-column",{attrs:{title:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("quick-edit",{attrs:{id:t.id,field:"name",update:e.updateConfigCategory},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"record.name"}})]}}])}),a("a-table-column",{attrs:{title:"标识"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("quick-edit",{attrs:{id:t.id,field:"slug",update:e.updateConfigCategory},model:{value:t.slug,callback:function(a){e.$set(t,"slug",a)},expression:"record.slug"}})]}}])}),a("a-table-column",{attrs:{title:"添加时间","data-index":"created_at",width:180}}),a("a-table-column",{attrs:{title:"修改时间","data-index":"updated_at",width:180}}),a("a-table-column",{attrs:{title:"操作",width:200},scopedSlots:e._u([{key:"default",fn:function(t){return[a("space",[a("router-link",{attrs:{to:"/configs/create?category_id="+t.id}},[e._v("添加配置")]),a("router-link",{attrs:{to:"/configs?category_id="+t.id}},[e._v("查看配置")]),a("lz-popconfirm",{attrs:{confirm:e.destroyConfigCategory(t.id)}},[a("a",{staticClass:"error-color",attrs:{href:"javascript:void(0);"}},[e._v("删除")])])],1)]}}])})],1),a("lz-pagination",{attrs:{page:e.page}}),a("a-modal",{attrs:{title:"添加分类",footer:null,width:"400px"},model:{value:e.createDialog,callback:function(t){e.createDialog=t},expression:"createDialog"}},[a("lz-form",{ref:"form",attrs:{"disable-redirect":"",form:e.form,errors:e.errors,submit:e.onStoreCategory,"in-dialog":"",layout:"vertical"},on:{"update:form":function(t){e.form=t},"update:errors":function(t){e.errors=t}}},[a("lz-form-item",{attrs:{label:"名称",required:"",prop:"name"}},[a("a-input",{attrs:{focus:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("lz-form-item",{attrs:{label:"标识",required:"",prop:"slug"}},[a("a-input",{model:{value:e.form.slug,callback:function(t){e.$set(e.form,"slug",t)},expression:"form.slug"}})],1)],1)],1)],1)},n=[],o=(a("96cf"),a("1da1")),i=a("4d2d"),c=a("36bd"),s=a("d613"),l=a("33c7"),u=a("38db"),d=a("1028"),f=a("90fe"),m=a("04bc"),p=a("d99d"),g=a("4141"),b=a("b107"),h={name:"Index",scroll:!0,components:{CacheConfig:b["a"],QuickEdit:g["a"],LzFormItem:p["a"],LzForm:m["a"],LzPopconfirm:d["a"],PageContent:l["a"],LzPagination:s["a"],Space:c["a"],SearchForm:u["a"]},data:function(){return{cates:[],page:null,search:[{field:"name",label:"名称"},{field:"slug",label:"标识"}],createDialog:!1,form:{name:"",slug:""},errors:{}}},methods:{destroyConfigCategory:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["d"])(e);case 2:t.cates=Object(f["r"])(t.cates,(function(t){return t.id===e}));case 3:case"end":return a.stop()}}),a)})))},onStoreCategory:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["m"])(t.form);case 2:r=a.sent,n=r.data,t.cates.unshift(n),e.stay?e.onReset():t.createDialog=!1;case 6:case"end":return a.stop()}}),a)})))()},updateConfigCategory:i["o"]},watch:{$route:{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["g"])(e.query);case 2:r=a.sent,n=r.data,o=n.data,c=n.meta,t.cates=o,t.page=c,t.$scrollResolve();case 9:case"end":return a.stop()}}),a)})))()},immediate:!0},createDialog:function(e){e||this.$refs.form.onReset()}}},v=h,w=a("2877"),k=Object(w["a"])(v,r,n,!1,null,null,null);t["default"]=k.exports}}]);
//# sourceMappingURL=chunk-2d0f0b73.dea63fe7.js.map