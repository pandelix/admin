{"version":3,"sources":["webpack:///./src/components/PageContent.vue?a9b0","webpack:///src/components/PageContent.vue","webpack:///./src/components/PageContent.vue?f15f","webpack:///./src/components/PageContent.vue","webpack:///./src/api/vue-routers.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/vue-routers/Form.vue?fb79","webpack:///src/views/vue-routers/Form.vue","webpack:///./src/views/vue-routers/Form.vue?491d","webpack:///./src/views/vue-routers/Form.vue","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/components/PageContent.vue?2926"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","realName","_t","class","center","staticRenderFns","name","props","title","String","Boolean","computed","matchedMenusChain","length","component","getVueRouters","params","Request","get","storeVueRouter","data","post","destroyVueRouter","id","delete","updateVueRouter","put","editVueRouter","updateVueRouters","createVueRouter","importVueRouters","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","attrs","getData","onSubmit","form","errors","on","$event","model","value","callback","$$v","$set","expression","_l","i","key","text","pathTip","pathOptions","onPathSearch","staticStyle","slot","icon","slug","components","PageContent","LzForm","LzFormItem","parent_id","path","order","cache","menu","roles","permission","vueRouters","permissions","paths","vueRouterOptions","icons","methods","queryParentId","some","q","filter","fails","whitespaces","non","module","exports","METHOD_NAME"],"mappings":"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","file":"js/chunk-3321a7a8.d4764002.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"content-header\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.realName))]),_c('div',{staticClass:\"flex-spacer\"}),_c('div',[_vm._t(\"actions\")],2)]),_c('div',{class:{ center: _vm.center }},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"content-header\">\n      <span class=\"title\">{{ realName }}</span>\n      <div class=\"flex-spacer\"/>\n      <div>\n        <slot name=\"actions\"/>\n      </div>\n    </div>\n    <div :class=\"{ center }\">\n      <slot/>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex'\nimport _last from 'lodash/last'\n\nexport default {\n  name: 'PageContent',\n  props: {\n    title: String,\n    center: Boolean,\n  },\n  computed: {\n    ...mapState({\n      matchedMenusChain: (state) => state.matchedMenusChain,\n    }),\n    realName() {\n      if (this.title) {\n        return this.title\n      }\n\n      let title = ''\n      if (this.matchedMenusChain.length) {\n        title = _last(this.matchedMenusChain).title\n      }\n\n      return title || this.$route?.meta?.title || ''\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"less\">\n.content-header {\n  height: 40px;\n  display: flex;\n  align-items: center;\n}\n\n.title {\n  font-size: 20px;\n  font-weight: 600;\n}\n\n.center {\n  display: flex;\n  justify-content: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageContent.vue?vue&type=template&id=81c7aafa&scoped=true&\"\nimport script from \"./PageContent.vue?vue&type=script&lang=js&\"\nexport * from \"./PageContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageContent.vue?vue&type=style&index=0&id=81c7aafa&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81c7aafa\",\n  null\n  \n)\n\nexport default component.exports","import Request from '@/axios/request'\n\nexport function getVueRouters(params = {}) {\n  return Request.get('vue-routers', {\n    params,\n  })\n}\n\nexport function storeVueRouter(data) {\n  return Request.post('vue-routers', data)\n}\n\nexport function destroyVueRouter(id) {\n  return Request.delete(`vue-routers/${id}`)\n}\n\nexport function updateVueRouter(id, data) {\n  return Request.put(`vue-routers/${id}`, data)\n}\n\nexport function editVueRouter(id) {\n  return Request.get(`vue-routers/${id}/edit`)\n}\n\nexport function updateVueRouters(data) {\n  return Request.put('vue-routers', data)\n}\n\nexport function createVueRouter() {\n  return Request.get('vue-routers/create')\n}\n\nexport function importVueRouters(data) {\n  return Request.post('vue-routers/by-import', data)\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('page-content',{attrs:{\"center\":\"\"}},[_c('lz-form',{attrs:{\"get-data\":_vm.getData,\"submit\":_vm.onSubmit,\"form\":_vm.form,\"errors\":_vm.errors},on:{\"update:form\":function($event){_vm.form=$event},\"update:errors\":function($event){_vm.errors=$event}}},[_c('lz-form-item',{attrs:{\"label\":\"父级路由\",\"prop\":\"parent_id\"}},[_c('a-select',{attrs:{\"show-search\":\"\",\"option-filter-prop\":\"title\",\"option-label-prop\":\"title\"},model:{value:(_vm.form.parent_id),callback:function ($$v) {_vm.$set(_vm.form, \"parent_id\", $$v)},expression:\"form.parent_id\"}},_vm._l((_vm.vueRouterOptions),function(i){return _c('a-select-option',{key:i.id,attrs:{\"title\":i.title}},[_vm._v(\" \"+_vm._s(i.text)+\" \")])}),1)],1),_c('lz-form-item',{attrs:{\"label\":\"标题\",\"required\":\"\",\"prop\":\"title\"}},[_c('a-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('lz-form-item',{attrs:{\"label\":\"地址\",\"prop\":\"path\",\"tip\":_vm.pathTip}},[_c('a-auto-complete',{attrs:{\"data-source\":_vm.pathOptions},on:{\"search\":_vm.onPathSearch},model:{value:(_vm.form.path),callback:function ($$v) {_vm.$set(_vm.form, \"path\", $$v)},expression:\"form.path\"}})],1),_c('lz-form-item',{staticClass:\"icon-item\",attrs:{\"label\":\"图标\",\"prop\":\"icon\",\"tip\":\"只有顶级菜单才会显示图标\"}},[_c('a-input',{model:{value:(_vm.form.icon),callback:function ($$v) {_vm.$set(_vm.form, \"icon\", $$v)},expression:\"form.icon\"}},[_c('a-select',{staticStyle:{\"width\":\"60px\"},attrs:{\"slot\":\"addonBefore\"},slot:\"addonBefore\",model:{value:(_vm.form.icon),callback:function ($$v) {_vm.$set(_vm.form, \"icon\", $$v)},expression:\"form.icon\"}},_vm._l((_vm.icons),function(i){return _c('a-select-option',{key:i,attrs:{\"value\":i}},[_c('svg-icon',{attrs:{\"icon-class\":i}})],1)}),1),_c('svg-icon',{staticStyle:{\"width\":\"20px\"},attrs:{\"slot\":\"addonAfter\",\"icon-class\":_vm.form.icon || 'cog-fill'},slot:\"addonAfter\"})],1)],1),_c('lz-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"order\"}},[_c('a-input-number',{attrs:{\"min\":-9999,\"max\":9999},model:{value:(_vm.form.order),callback:function ($$v) {_vm.$set(_vm.form, \"order\", $$v)},expression:\"form.order\"}})],1),_c('lz-form-item',{attrs:{\"label\":\"显示在菜单\",\"prop\":\"menu\"}},[_c('a-switch',{model:{value:(_vm.form.menu),callback:function ($$v) {_vm.$set(_vm.form, \"menu\", $$v)},expression:\"form.menu\"}})],1),_c('lz-form-item',{attrs:{\"label\":\"缓存\",\"prop\":\"cache\"}},[_c('a-switch',{model:{value:(_vm.form.cache),callback:function ($$v) {_vm.$set(_vm.form, \"cache\", $$v)},expression:\"form.cache\"}})],1),_c('lz-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"roles\"}},[_c('a-select',{attrs:{\"mode\":\"multiple\",\"placeholder\":\"选择角色\",\"allow-clear\":\"\",\"show-search\":\"\",\"option-filter-prop\":\"name\"},model:{value:(_vm.form.roles),callback:function ($$v) {_vm.$set(_vm.form, \"roles\", $$v)},expression:\"form.roles\"}},_vm._l((_vm.roles),function(i){return _c('a-select-option',{key:i.id,attrs:{\"name\":i.name}},[_vm._v(\" \"+_vm._s(i.name)+\" \")])}),1)],1),_c('lz-form-item',{attrs:{\"label\":\"权限\",\"prop\":\"permission\"}},[_c('a-select',{attrs:{\"placeholder\":\"选择权限\",\"allow-clear\":\"\",\"show-search\":\"\",\"option-filter-prop\":\"name\"},model:{value:(_vm.form.permission),callback:function ($$v) {_vm.$set(_vm.form, \"permission\", $$v)},expression:\"form.permission\"}},_vm._l((_vm.permissions),function(i){return _c('a-select-option',{key:i.slug,attrs:{\"name\":i.name}},[_vm._v(\" \"+_vm._s(i.name)+\" \")])}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <page-content center>\n    <lz-form\n      :get-data=\"getData\"\n      :submit=\"onSubmit\"\n      :form.sync=\"form\"\n      :errors.sync=\"errors\"\n    >\n      <lz-form-item label=\"父级路由\" prop=\"parent_id\">\n        <a-select\n          v-model=\"form.parent_id\"\n          show-search\n          option-filter-prop=\"title\"\n          option-label-prop=\"title\"\n        >\n          <a-select-option\n            v-for=\"i of vueRouterOptions\"\n            :key=\"i.id\"\n            :title=\"i.title\"\n          >\n            {{ i.text }}\n          </a-select-option>\n        </a-select>\n      </lz-form-item>\n      <lz-form-item label=\"标题\" required prop=\"title\">\n        <a-input v-model=\"form.title\"/>\n      </lz-form-item>\n      <lz-form-item label=\"地址\" prop=\"path\" :tip=\"pathTip\">\n        <a-auto-complete\n          v-model=\"form.path\"\n          :data-source=\"pathOptions\"\n          @search=\"onPathSearch\"\n        />\n      </lz-form-item>\n      <lz-form-item\n        class=\"icon-item\"\n        label=\"图标\"\n        prop=\"icon\"\n        tip=\"只有顶级菜单才会显示图标\"\n      >\n        <a-input v-model=\"form.icon\">\n          <a-select\n            v-model=\"form.icon\"\n            slot=\"addonBefore\"\n            style=\"width: 60px;\"\n          >\n            <a-select-option\n              v-for=\"i of icons\"\n              :key=\"i\"\n              :value=\"i\"\n            >\n              <svg-icon :icon-class=\"i\"/>\n            </a-select-option>\n          </a-select>\n          <svg-icon\n            style=\"width: 20px;\"\n            slot=\"addonAfter\"\n            :icon-class=\"form.icon || 'cog-fill'\"\n          />\n        </a-input>\n      </lz-form-item>\n      <lz-form-item label=\"排序\" prop=\"order\">\n        <a-input-number :min=\"-9999\" :max=\"9999\" v-model=\"form.order\"/>\n      </lz-form-item>\n      <lz-form-item label=\"显示在菜单\" prop=\"menu\">\n        <a-switch v-model=\"form.menu\"/>\n      </lz-form-item>\n      <lz-form-item label=\"缓存\" prop=\"cache\">\n        <a-switch v-model=\"form.cache\"/>\n      </lz-form-item>\n      <lz-form-item label=\"角色\" prop=\"roles\">\n        <a-select\n          mode=\"multiple\"\n          v-model=\"form.roles\"\n          placeholder=\"选择角色\"\n          allow-clear\n          show-search\n          option-filter-prop=\"name\"\n        >\n          <a-select-option\n            v-for=\"i of roles\"\n            :key=\"i.id\"\n            :name=\"i.name\"\n          >\n            {{ i.name }}\n          </a-select-option>\n        </a-select>\n      </lz-form-item>\n      <lz-form-item label=\"权限\" prop=\"permission\">\n        <a-select\n          v-model=\"form.permission\"\n          placeholder=\"选择权限\"\n          allow-clear\n          show-search\n          option-filter-prop=\"name\"\n        >\n          <a-select-option\n            v-for=\"i of permissions\"\n            :key=\"i.slug\"\n            :name=\"i.name\"\n          >\n            {{ i.name }}\n          </a-select-option>\n        </a-select>\n      </lz-form-item>\n    </lz-form>\n  </page-content>\n</template>\n\n<script>\nimport {\n  createVueRouter,\n  editVueRouter,\n  storeVueRouter,\n  updateVueRouter,\n} from '@/api/vue-routers'\nimport LzForm from '@c/LzForm'\nimport LzFormItem from '@c/LzForm/LzFormItem'\nimport PageContent from '@c/PageContent'\nimport icons from '@/icons'\nimport pages from '@v/pages'\nimport { nestedToSelectOptions, toInt } from '@/libs/utils'\n\nconst paths = Object.keys(pages).sort()\n\nexport default {\n  name: 'Form',\n  components: {\n    PageContent,\n    LzForm,\n    LzFormItem,\n  },\n  data() {\n    return {\n      form: {\n        parent_id: 0,\n        title: '',\n        path: '',\n        icon: '',\n        order: 0,\n        cache: false,\n        menu: false,\n        roles: [],\n        permission: '',\n      },\n      errors: {},\n      vueRouters: [],\n      roles: [],\n      permissions: [],\n\n      pathOptions: paths,\n\n      pathTip: `地址可以有三种：\n1：以 http 开头的完整 url，会在新窗口中打开；\n2：以斜杠 '/' 开头的，不会匹配生成路由配置， 一般用于打开其他路由的不同参数的 url；\n3：其他则会去匹配组件，并生成路由配置。`,\n    }\n  },\n  computed: {\n    vueRouterOptions() {\n      return nestedToSelectOptions(this.vueRouters)\n    },\n    icons() {\n      return icons\n    },\n  },\n  methods: {\n    queryParentId() {\n      const id = toInt(this.$route.query.parent_id)\n      if (this.vueRouterOptions.some(i => i.id === id)) {\n        return id\n      } else {\n        return 0\n      }\n    },\n    async getData($form) {\n      let data\n      if ($form.realEditMode) {\n        ({ data } = await editVueRouter($form.resourceId))\n      } else {\n        ({ data } = await createVueRouter())\n      }\n\n      this.vueRouters = data.vue_routers\n      !this.editMode && (this.form.parent_id = this.queryParentId())\n      this.roles = data.roles\n      this.permissions = data.permissions\n\n      return data.data\n    },\n    async onSubmit($form) {\n      if ($form.realEditMode) {\n        await updateVueRouter($form.resourceId, this.form)\n      } else {\n        await storeVueRouter(this.form)\n      }\n    },\n    onPathSearch(q) {\n      q = q.trim()\n      this.pathOptions = paths.filter((i) => (i.indexOf(q) !== -1))\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=01f78df1&\"\nimport script from \"./Form.vue?vue&type=script&lang=js&\"\nexport * from \"./Form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageContent.vue?vue&type=style&index=0&id=81c7aafa&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageContent.vue?vue&type=style&index=0&id=81c7aafa&scoped=true&lang=less&\""],"sourceRoot":""}