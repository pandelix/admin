(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3321a7a8"],{"0cc4":function(t,e,r){},"33c7":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"content-header"},[r("span",{staticClass:"title"},[t._v(t._s(t.realName))]),r("div",{staticClass:"flex-spacer"}),r("div",[t._t("actions")],2)]),r("div",{class:{center:t.center}},[t._t("default")],2)])},o=[],a=r("5530"),i=r("2f62"),s=r("4416"),c=r.n(s),u={name:"PageContent",props:{title:String,center:Boolean},computed:Object(a["a"])({},Object(i["c"])({matchedMenusChain:function(t){return t.matchedMenusChain}}),{realName:function(){var t,e;if(this.title)return this.title;var r="";return this.matchedMenusChain.length&&(r=c()(this.matchedMenusChain).title),r||(null===(t=this.$route)||void 0===t||null===(e=t.meta)||void 0===e?void 0:e.title)||""}})},l=u,f=(r("e4b2"),r("2877")),m=Object(f["a"])(l,n,o,!1,null,"81c7aafa",null);e["a"]=m.exports},"3aaa":function(t,e,r){"use strict";r.d(e,"d",(function(){return o})),r.d(e,"f",(function(){return a})),r.d(e,"b",(function(){return i})),r.d(e,"g",(function(){return s})),r.d(e,"c",(function(){return c})),r.d(e,"h",(function(){return u})),r.d(e,"a",(function(){return l})),r.d(e,"e",(function(){return f}));var n=r("28de");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].get("vue-routers",{params:t})}function a(t){return n["b"].post("vue-routers",t)}function i(t){return n["b"].delete("vue-routers/".concat(t))}function s(t,e){return n["b"].put("vue-routers/".concat(t),e)}function c(t){return n["b"].get("vue-routers/".concat(t,"/edit"))}function u(t){return n["b"].put("vue-routers",t)}function l(){return n["b"].get("vue-routers/create")}function f(t){return n["b"].post("vue-routers/by-import",t)}},"498a":function(t,e,r){"use strict";var n=r("23e7"),o=r("58a8").trim,a=r("c8d2");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return o(this)}})},c130:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("page-content",{attrs:{center:""}},[r("lz-form",{attrs:{"get-data":t.getData,submit:t.onSubmit,form:t.form,errors:t.errors},on:{"update:form":function(e){t.form=e},"update:errors":function(e){t.errors=e}}},[r("lz-form-item",{attrs:{label:"父级路由",prop:"parent_id"}},[r("a-select",{attrs:{"show-search":"","option-filter-prop":"title","option-label-prop":"title"},model:{value:t.form.parent_id,callback:function(e){t.$set(t.form,"parent_id",e)},expression:"form.parent_id"}},t._l(t.vueRouterOptions,(function(e){return r("a-select-option",{key:e.id,attrs:{title:e.title}},[t._v(" "+t._s(e.text)+" ")])})),1)],1),r("lz-form-item",{attrs:{label:"标题",required:"",prop:"title"}},[r("a-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),r("lz-form-item",{attrs:{label:"地址",prop:"path",tip:t.pathTip}},[r("a-auto-complete",{attrs:{"data-source":t.pathOptions},on:{search:t.onPathSearch},model:{value:t.form.path,callback:function(e){t.$set(t.form,"path",e)},expression:"form.path"}})],1),r("lz-form-item",{staticClass:"icon-item",attrs:{label:"图标",prop:"icon",tip:"只有顶级菜单才会显示图标"}},[r("a-input",{model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}},[r("a-select",{staticStyle:{width:"60px"},attrs:{slot:"addonBefore"},slot:"addonBefore",model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}},t._l(t.icons,(function(t){return r("a-select-option",{key:t,attrs:{value:t}},[r("svg-icon",{attrs:{"icon-class":t}})],1)})),1),r("svg-icon",{staticStyle:{width:"20px"},attrs:{slot:"addonAfter","icon-class":t.form.icon||"cog-fill"},slot:"addonAfter"})],1)],1),r("lz-form-item",{attrs:{label:"排序",prop:"order"}},[r("a-input-number",{attrs:{min:-9999,max:9999},model:{value:t.form.order,callback:function(e){t.$set(t.form,"order",e)},expression:"form.order"}})],1),r("lz-form-item",{attrs:{label:"显示在菜单",prop:"menu"}},[r("a-switch",{model:{value:t.form.menu,callback:function(e){t.$set(t.form,"menu",e)},expression:"form.menu"}})],1),r("lz-form-item",{attrs:{label:"缓存",prop:"cache"}},[r("a-switch",{model:{value:t.form.cache,callback:function(e){t.$set(t.form,"cache",e)},expression:"form.cache"}})],1),r("lz-form-item",{attrs:{label:"角色",prop:"roles"}},[r("a-select",{attrs:{mode:"multiple",placeholder:"选择角色","allow-clear":"","show-search":"","option-filter-prop":"name"},model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}},t._l(t.roles,(function(e){return r("a-select-option",{key:e.id,attrs:{name:e.name}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),r("lz-form-item",{attrs:{label:"权限",prop:"permission"}},[r("a-select",{attrs:{placeholder:"选择权限","allow-clear":"","show-search":"","option-filter-prop":"name"},model:{value:t.form.permission,callback:function(e){t.$set(t.form,"permission",e)},expression:"form.permission"}},t._l(t.permissions,(function(e){return r("a-select-option",{key:e.slug,attrs:{name:e.name}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1)],1)},o=[],a=(r("4de4"),r("c975"),r("45fc"),r("b64b"),r("498a"),r("96cf"),r("1da1")),i=r("3aaa"),s=r("04bc"),c=r("d99d"),u=r("33c7"),l=r("985d"),f=r("c563"),m=r("90fe"),p=Object.keys(f["a"]).sort(),d={name:"Form",components:{PageContent:u["a"],LzForm:s["a"],LzFormItem:c["a"]},data:function(){return{form:{parent_id:0,title:"",path:"",icon:"",order:0,cache:!1,menu:!1,roles:[],permission:""},errors:{},vueRouters:[],roles:[],permissions:[],pathOptions:p,pathTip:"地址可以有三种：\n1：以 http 开头的完整 url，会在新窗口中打开；\n2：以斜杠 '/' 开头的，不会匹配生成路由配置， 一般用于打开其他路由的不同参数的 url；\n3：其他则会去匹配组件，并生成路由配置。"}},computed:{vueRouterOptions:function(){return Object(m["o"])(this.vueRouters)},icons:function(){return l["a"]}},methods:{queryParentId:function(){var t=Object(m["x"])(this.$route.query.parent_id);return this.vueRouterOptions.some((function(e){return e.id===t}))?t:0},getData:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.realEditMode){r.next=7;break}return r.next=3,Object(i["c"])(t.resourceId);case 3:o=r.sent,n=o.data,r.next=11;break;case 7:return r.next=9,Object(i["a"])();case 9:a=r.sent,n=a.data;case 11:return e.vueRouters=n.vue_routers,!e.editMode&&(e.form.parent_id=e.queryParentId()),e.roles=n.roles,e.permissions=n.permissions,r.abrupt("return",n.data);case 16:case"end":return r.stop()}}),r)})))()},onSubmit:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.realEditMode){r.next=5;break}return r.next=3,Object(i["g"])(t.resourceId,e.form);case 3:r.next=7;break;case 5:return r.next=7,Object(i["f"])(e.form);case 7:case"end":return r.stop()}}),r)})))()},onPathSearch:function(t){t=t.trim(),this.pathOptions=p.filter((function(e){return-1!==e.indexOf(t)}))}}},h=d,b=r("2877"),v=Object(b["a"])(h,n,o,!1,null,null,null);e["default"]=v.exports},c8d2:function(t,e,r){var n=r("d039"),o=r("5899"),a="​᠎";t.exports=function(t){return n((function(){return!!o[t]()||a[t]()!=a||o[t].name!==t}))}},e4b2:function(t,e,r){"use strict";var n=r("0cc4"),o=r.n(n);o.a}}]);
//# sourceMappingURL=chunk-3321a7a8.d4764002.js.map